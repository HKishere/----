C51 COMPILER V9.01   PT100                                                                 12/12/2018 10:19:40 PAGE 1   


C51 COMPILER V9.01, COMPILATION OF MODULE PT100
OBJECT MODULE PLACED IN pt100.OBJ
COMPILER INVOKED BY: C:\Keil\C51\BIN\C51.EXE pt100.c LARGE BROWSE DEBUG OBJECTEXTEND

line level    source

   1          #include "STC12C5A60S2.h"
   2          #include <INTRINS.H>
   3          #include "main.h"
   4          #include "lcd.h"
*** ERROR C231 IN LINE 9 OF C:\KEIL\C51\INC\STC12C5A60S2.H: 'ACC': redefinition
*** ERROR C231 IN LINE 10 OF C:\KEIL\C51\INC\STC12C5A60S2.H: 'B': redefinition
*** ERROR C231 IN LINE 11 OF C:\KEIL\C51\INC\STC12C5A60S2.H: 'PSW': redefinition
*** ERROR C231 IN LINE 13 OF C:\KEIL\C51\INC\STC12C5A60S2.H: 'CY': redefinition
*** ERROR C231 IN LINE 14 OF C:\KEIL\C51\INC\STC12C5A60S2.H: 'AC': redefinition
*** ERROR C231 IN LINE 15 OF C:\KEIL\C51\INC\STC12C5A60S2.H: 'F0': redefinition
*** ERROR C231 IN LINE 16 OF C:\KEIL\C51\INC\STC12C5A60S2.H: 'RS1': redefinition
*** ERROR C231 IN LINE 17 OF C:\KEIL\C51\INC\STC12C5A60S2.H: 'RS0': redefinition
*** ERROR C231 IN LINE 18 OF C:\KEIL\C51\INC\STC12C5A60S2.H: 'OV': redefinition
*** ERROR C231 IN LINE 19 OF C:\KEIL\C51\INC\STC12C5A60S2.H: 'P': redefinition
*** ERROR C231 IN LINE 21 OF C:\KEIL\C51\INC\STC12C5A60S2.H: 'SP': redefinition
*** ERROR C231 IN LINE 22 OF C:\KEIL\C51\INC\STC12C5A60S2.H: 'DPL': redefinition
*** ERROR C231 IN LINE 23 OF C:\KEIL\C51\INC\STC12C5A60S2.H: 'DPH': redefinition
*** ERROR C231 IN LINE 27 OF C:\KEIL\C51\INC\STC12C5A60S2.H: 'PCON': redefinition
*** ERROR C231 IN LINE 29 OF C:\KEIL\C51\INC\STC12C5A60S2.H: 'AUXR': redefinition
*** ERROR C231 IN LINE 31 OF C:\KEIL\C51\INC\STC12C5A60S2.H: 'AUXR1': redefinition
*** ERROR C231 IN LINE 58 OF C:\KEIL\C51\INC\STC12C5A60S2.H: 'WAKE_CLKO': redefinition
*** ERROR C231 IN LINE 73 OF C:\KEIL\C51\INC\STC12C5A60S2.H: 'CLK_DIV': redefinition
*** ERROR C231 IN LINE 75 OF C:\KEIL\C51\INC\STC12C5A60S2.H: 'BUS_SPEED': redefinition
*** ERROR C231 IN LINE 98 OF C:\KEIL\C51\INC\STC12C5A60S2.H: 'IE': redefinition
*** ERROR C231 IN LINE 100 OF C:\KEIL\C51\INC\STC12C5A60S2.H: 'EA': redefinition
*** ERROR C231 IN LINE 101 OF C:\KEIL\C51\INC\STC12C5A60S2.H: 'ELVD': redefinition
*** ERROR C231 IN LINE 102 OF C:\KEIL\C51\INC\STC12C5A60S2.H: 'EADC': redefinition
*** ERROR C231 IN LINE 103 OF C:\KEIL\C51\INC\STC12C5A60S2.H: 'ES': redefinition
*** ERROR C231 IN LINE 104 OF C:\KEIL\C51\INC\STC12C5A60S2.H: 'ET1': redefinition
*** ERROR C231 IN LINE 105 OF C:\KEIL\C51\INC\STC12C5A60S2.H: 'EX1': redefinition
*** ERROR C231 IN LINE 106 OF C:\KEIL\C51\INC\STC12C5A60S2.H: 'ET0': redefinition
*** ERROR C231 IN LINE 107 OF C:\KEIL\C51\INC\STC12C5A60S2.H: 'EX0': redefinition
*** ERROR C231 IN LINE 109 OF C:\KEIL\C51\INC\STC12C5A60S2.H: 'IE2': redefinition
*** ERROR C231 IN LINE 112 OF C:\KEIL\C51\INC\STC12C5A60S2.H: 'IP': redefinition
*** ERROR C231 IN LINE 114 OF C:\KEIL\C51\INC\STC12C5A60S2.H: 'PPCA': redefinition
*** ERROR C231 IN LINE 115 OF C:\KEIL\C51\INC\STC12C5A60S2.H: 'PLVD': redefinition
*** ERROR C231 IN LINE 116 OF C:\KEIL\C51\INC\STC12C5A60S2.H: 'PADC': redefinition
*** ERROR C231 IN LINE 117 OF C:\KEIL\C51\INC\STC12C5A60S2.H: 'PS': redefinition
*** ERROR C231 IN LINE 118 OF C:\KEIL\C51\INC\STC12C5A60S2.H: 'PT1': redefinition
*** ERROR C231 IN LINE 119 OF C:\KEIL\C51\INC\STC12C5A60S2.H: 'PX1': redefinition
*** ERROR C231 IN LINE 120 OF C:\KEIL\C51\INC\STC12C5A60S2.H: 'PT0': redefinition
*** ERROR C231 IN LINE 121 OF C:\KEIL\C51\INC\STC12C5A60S2.H: 'PX0': redefinition
*** ERROR C231 IN LINE 124 OF C:\KEIL\C51\INC\STC12C5A60S2.H: 'IPH': redefinition
*** ERROR C231 IN LINE 125 OF C:\KEIL\C51\INC\STC12C5A60S2.H: 'IP2': redefinition
*** ERROR C231 IN LINE 130 OF C:\KEIL\C51\INC\STC12C5A60S2.H: 'P0': redefinition
*** ERROR C231 IN LINE 131 OF C:\KEIL\C51\INC\STC12C5A60S2.H: 'P00': redefinition
*** ERROR C231 IN LINE 132 OF C:\KEIL\C51\INC\STC12C5A60S2.H: 'P01': redefinition
*** ERROR C231 IN LINE 133 OF C:\KEIL\C51\INC\STC12C5A60S2.H: 'P02': redefinition
*** ERROR C231 IN LINE 134 OF C:\KEIL\C51\INC\STC12C5A60S2.H: 'P03': redefinition
*** ERROR C231 IN LINE 135 OF C:\KEIL\C51\INC\STC12C5A60S2.H: 'P04': redefinition
*** ERROR C231 IN LINE 136 OF C:\KEIL\C51\INC\STC12C5A60S2.H: 'P05': redefinition
*** ERROR C231 IN LINE 137 OF C:\KEIL\C51\INC\STC12C5A60S2.H: 'P06': redefinition
*** ERROR C231 IN LINE 138 OF C:\KEIL\C51\INC\STC12C5A60S2.H: 'P07': redefinition
*** ERROR C231 IN LINE 139 OF C:\KEIL\C51\INC\STC12C5A60S2.H: 'P0M0': redefinition
*** ERROR C231 IN LINE 140 OF C:\KEIL\C51\INC\STC12C5A60S2.H: 'P0M1': redefinition
C51 COMPILER V9.01   PT100                                                                 12/12/2018 10:19:40 PAGE 2   

*** ERROR C231 IN LINE 141 OF C:\KEIL\C51\INC\STC12C5A60S2.H: 'P1': redefinition
*** ERROR C231 IN LINE 142 OF C:\KEIL\C51\INC\STC12C5A60S2.H: 'P10': redefinition
*** ERROR C231 IN LINE 143 OF C:\KEIL\C51\INC\STC12C5A60S2.H: 'P11': redefinition
*** ERROR C231 IN LINE 144 OF C:\KEIL\C51\INC\STC12C5A60S2.H: 'P12': redefinition
*** ERROR C231 IN LINE 145 OF C:\KEIL\C51\INC\STC12C5A60S2.H: 'P13': redefinition
*** ERROR C231 IN LINE 146 OF C:\KEIL\C51\INC\STC12C5A60S2.H: 'P14': redefinition
*** ERROR C231 IN LINE 147 OF C:\KEIL\C51\INC\STC12C5A60S2.H: 'P15': redefinition
*** ERROR C231 IN LINE 148 OF C:\KEIL\C51\INC\STC12C5A60S2.H: 'P16': redefinition
*** ERROR C231 IN LINE 149 OF C:\KEIL\C51\INC\STC12C5A60S2.H: 'P17': redefinition
*** ERROR C231 IN LINE 150 OF C:\KEIL\C51\INC\STC12C5A60S2.H: 'P1M0': redefinition
*** ERROR C231 IN LINE 151 OF C:\KEIL\C51\INC\STC12C5A60S2.H: 'P1M1': redefinition
*** ERROR C231 IN LINE 152 OF C:\KEIL\C51\INC\STC12C5A60S2.H: 'P1ASF': redefinition
*** ERROR C231 IN LINE 153 OF C:\KEIL\C51\INC\STC12C5A60S2.H: 'P2': redefinition
*** ERROR C231 IN LINE 154 OF C:\KEIL\C51\INC\STC12C5A60S2.H: 'P20': redefinition
*** ERROR C231 IN LINE 155 OF C:\KEIL\C51\INC\STC12C5A60S2.H: 'P21': redefinition
*** ERROR C231 IN LINE 156 OF C:\KEIL\C51\INC\STC12C5A60S2.H: 'P22': redefinition
*** ERROR C231 IN LINE 157 OF C:\KEIL\C51\INC\STC12C5A60S2.H: 'P23': redefinition
*** ERROR C231 IN LINE 158 OF C:\KEIL\C51\INC\STC12C5A60S2.H: 'P24': redefinition
*** ERROR C231 IN LINE 159 OF C:\KEIL\C51\INC\STC12C5A60S2.H: 'P25': redefinition
*** ERROR C231 IN LINE 160 OF C:\KEIL\C51\INC\STC12C5A60S2.H: 'P26': redefinition
*** ERROR C231 IN LINE 161 OF C:\KEIL\C51\INC\STC12C5A60S2.H: 'P27': redefinition
*** ERROR C231 IN LINE 162 OF C:\KEIL\C51\INC\STC12C5A60S2.H: 'P2M0': redefinition
*** ERROR C231 IN LINE 163 OF C:\KEIL\C51\INC\STC12C5A60S2.H: 'P2M1': redefinition
*** ERROR C231 IN LINE 164 OF C:\KEIL\C51\INC\STC12C5A60S2.H: 'P3': redefinition
*** ERROR C231 IN LINE 165 OF C:\KEIL\C51\INC\STC12C5A60S2.H: 'P30': redefinition
*** ERROR C231 IN LINE 166 OF C:\KEIL\C51\INC\STC12C5A60S2.H: 'P31': redefinition
*** ERROR C231 IN LINE 167 OF C:\KEIL\C51\INC\STC12C5A60S2.H: 'P32': redefinition
*** ERROR C231 IN LINE 168 OF C:\KEIL\C51\INC\STC12C5A60S2.H: 'P33': redefinition
*** ERROR C231 IN LINE 169 OF C:\KEIL\C51\INC\STC12C5A60S2.H: 'P34': redefinition
*** ERROR C231 IN LINE 170 OF C:\KEIL\C51\INC\STC12C5A60S2.H: 'P35': redefinition
*** ERROR C231 IN LINE 171 OF C:\KEIL\C51\INC\STC12C5A60S2.H: 'P36': redefinition
*** ERROR C231 IN LINE 172 OF C:\KEIL\C51\INC\STC12C5A60S2.H: 'P37': redefinition
*** ERROR C231 IN LINE 173 OF C:\KEIL\C51\INC\STC12C5A60S2.H: 'P3M0': redefinition
*** ERROR C231 IN LINE 174 OF C:\KEIL\C51\INC\STC12C5A60S2.H: 'P3M1': redefinition
*** ERROR C231 IN LINE 175 OF C:\KEIL\C51\INC\STC12C5A60S2.H: 'P4': redefinition
*** ERROR C231 IN LINE 176 OF C:\KEIL\C51\INC\STC12C5A60S2.H: 'P40': redefinition
*** ERROR C231 IN LINE 177 OF C:\KEIL\C51\INC\STC12C5A60S2.H: 'P41': redefinition
*** ERROR C231 IN LINE 178 OF C:\KEIL\C51\INC\STC12C5A60S2.H: 'P42': redefinition
*** ERROR C231 IN LINE 179 OF C:\KEIL\C51\INC\STC12C5A60S2.H: 'P43': redefinition
*** ERROR C231 IN LINE 180 OF C:\KEIL\C51\INC\STC12C5A60S2.H: 'P44': redefinition
*** ERROR C231 IN LINE 181 OF C:\KEIL\C51\INC\STC12C5A60S2.H: 'P45': redefinition
*** ERROR C231 IN LINE 182 OF C:\KEIL\C51\INC\STC12C5A60S2.H: 'P46': redefinition
*** ERROR C231 IN LINE 183 OF C:\KEIL\C51\INC\STC12C5A60S2.H: 'P47': redefinition
*** ERROR C231 IN LINE 184 OF C:\KEIL\C51\INC\STC12C5A60S2.H: 'P4M0': redefinition
*** ERROR C231 IN LINE 185 OF C:\KEIL\C51\INC\STC12C5A60S2.H: 'P4M1': redefinition
*** ERROR C231 IN LINE 187 OF C:\KEIL\C51\INC\STC12C5A60S2.H: 'P4SW': redefinition
*** ERROR C231 IN LINE 189 OF C:\KEIL\C51\INC\STC12C5A60S2.H: 'P5': redefinition
*** ERROR C231 IN LINE 190 OF C:\KEIL\C51\INC\STC12C5A60S2.H: 'P50': redefinition
*** ERROR C231 IN LINE 191 OF C:\KEIL\C51\INC\STC12C5A60S2.H: 'P51': redefinition
*** ERROR C231 IN LINE 192 OF C:\KEIL\C51\INC\STC12C5A60S2.H: 'P52': redefinition
*** ERROR C231 IN LINE 193 OF C:\KEIL\C51\INC\STC12C5A60S2.H: 'P53': redefinition
*** ERROR C231 IN LINE 194 OF C:\KEIL\C51\INC\STC12C5A60S2.H: 'P5M0': redefinition
*** ERROR C231 IN LINE 195 OF C:\KEIL\C51\INC\STC12C5A60S2.H: 'P5M1': redefinition
*** ERROR C231 IN LINE 199 OF C:\KEIL\C51\INC\STC12C5A60S2.H: 'TCON': redefinition
*** ERROR C231 IN LINE 201 OF C:\KEIL\C51\INC\STC12C5A60S2.H: 'TF1': redefinition
*** ERROR C231 IN LINE 202 OF C:\KEIL\C51\INC\STC12C5A60S2.H: 'TR1': redefinition
*** ERROR C231 IN LINE 203 OF C:\KEIL\C51\INC\STC12C5A60S2.H: 'TF0': redefinition
*** ERROR C231 IN LINE 204 OF C:\KEIL\C51\INC\STC12C5A60S2.H: 'TR0': redefinition
*** ERROR C231 IN LINE 205 OF C:\KEIL\C51\INC\STC12C5A60S2.H: 'IE1': redefinition
*** ERROR C231 IN LINE 206 OF C:\KEIL\C51\INC\STC12C5A60S2.H: 'IT1': redefinition
*** ERROR C231 IN LINE 207 OF C:\KEIL\C51\INC\STC12C5A60S2.H: 'IE0': redefinition
*** ERROR C231 IN LINE 208 OF C:\KEIL\C51\INC\STC12C5A60S2.H: 'IT0': redefinition
C51 COMPILER V9.01   PT100                                                                 12/12/2018 10:19:40 PAGE 3   

*** ERROR C231 IN LINE 210 OF C:\KEIL\C51\INC\STC12C5A60S2.H: 'TMOD': redefinition
*** ERROR C231 IN LINE 211 OF C:\KEIL\C51\INC\STC12C5A60S2.H: 'TL0': redefinition
*** ERROR C231 IN LINE 212 OF C:\KEIL\C51\INC\STC12C5A60S2.H: 'TH0': redefinition
*** ERROR C231 IN LINE 213 OF C:\KEIL\C51\INC\STC12C5A60S2.H: 'TL1': redefinition
*** ERROR C231 IN LINE 214 OF C:\KEIL\C51\INC\STC12C5A60S2.H: 'TH1': redefinition
*** ERROR C231 IN LINE 218 OF C:\KEIL\C51\INC\STC12C5A60S2.H: 'SCON': redefinition
*** ERROR C231 IN LINE 220 OF C:\KEIL\C51\INC\STC12C5A60S2.H: 'SM0': redefinition
*** ERROR C231 IN LINE 221 OF C:\KEIL\C51\INC\STC12C5A60S2.H: 'SM1': redefinition
*** ERROR C231 IN LINE 222 OF C:\KEIL\C51\INC\STC12C5A60S2.H: 'SM2': redefinition
*** ERROR C231 IN LINE 223 OF C:\KEIL\C51\INC\STC12C5A60S2.H: 'REN': redefinition
*** ERROR C231 IN LINE 224 OF C:\KEIL\C51\INC\STC12C5A60S2.H: 'TB8': redefinition
*** ERROR C231 IN LINE 225 OF C:\KEIL\C51\INC\STC12C5A60S2.H: 'RB8': redefinition
*** ERROR C231 IN LINE 226 OF C:\KEIL\C51\INC\STC12C5A60S2.H: 'TI': redefinition
*** ERROR C231 IN LINE 227 OF C:\KEIL\C51\INC\STC12C5A60S2.H: 'RI': redefinition
*** ERROR C231 IN LINE 229 OF C:\KEIL\C51\INC\STC12C5A60S2.H: 'SBUF': redefinition
*** ERROR C231 IN LINE 230 OF C:\KEIL\C51\INC\STC12C5A60S2.H: 'SADEN': redefinition
*** ERROR C231 IN LINE 231 OF C:\KEIL\C51\INC\STC12C5A60S2.H: 'SADDR': redefinition
*** ERROR C231 IN LINE 234 OF C:\KEIL\C51\INC\STC12C5A60S2.H: 'S2CON': redefinition
*** ERROR C231 IN LINE 235 OF C:\KEIL\C51\INC\STC12C5A60S2.H: 'S2BUF': redefinition
*** ERROR C231 IN LINE 236 OF C:\KEIL\C51\INC\STC12C5A60S2.H: 'BRT': redefinition
*** ERROR C231 IN LINE 239 OF C:\KEIL\C51\INC\STC12C5A60S2.H: 'WDT_CONTR': redefinition
*** ERROR C231 IN LINE 247 OF C:\KEIL\C51\INC\STC12C5A60S2.H: 'CCON': redefinition
*** ERROR C231 IN LINE 249 OF C:\KEIL\C51\INC\STC12C5A60S2.H: 'CF': redefinition
*** ERROR C231 IN LINE 250 OF C:\KEIL\C51\INC\STC12C5A60S2.H: 'CR': redefinition
*** ERROR C231 IN LINE 253 OF C:\KEIL\C51\INC\STC12C5A60S2.H: 'CCF1': redefinition
*** ERROR C231 IN LINE 254 OF C:\KEIL\C51\INC\STC12C5A60S2.H: 'CCF0': redefinition
*** ERROR C231 IN LINE 256 OF C:\KEIL\C51\INC\STC12C5A60S2.H: 'CMOD': redefinition
*** ERROR C231 IN LINE 276 OF C:\KEIL\C51\INC\STC12C5A60S2.H: 'CL': redefinition
*** ERROR C231 IN LINE 277 OF C:\KEIL\C51\INC\STC12C5A60S2.H: 'CH': redefinition
*** ERROR C231 IN LINE 280 OF C:\KEIL\C51\INC\STC12C5A60S2.H: 'CCAPM0': redefinition
*** ERROR C231 IN LINE 281 OF C:\KEIL\C51\INC\STC12C5A60S2.H: 'CCAPM1': redefinition
*** ERROR C231 IN LINE 308 OF C:\KEIL\C51\INC\STC12C5A60S2.H: 'CCAP0L': redefinition
*** ERROR C231 IN LINE 309 OF C:\KEIL\C51\INC\STC12C5A60S2.H: 'CCAP0H': redefinition
*** ERROR C231 IN LINE 310 OF C:\KEIL\C51\INC\STC12C5A60S2.H: 'CCAP1L': redefinition
*** ERROR C231 IN LINE 311 OF C:\KEIL\C51\INC\STC12C5A60S2.H: 'CCAP1H': redefinition
*** ERROR C231 IN LINE 314 OF C:\KEIL\C51\INC\STC12C5A60S2.H: 'PCA_PWM0': redefinition
*** ERROR C231 IN LINE 315 OF C:\KEIL\C51\INC\STC12C5A60S2.H: 'PCA_PWM1': redefinition
*** ERROR C231 IN LINE 324 OF C:\KEIL\C51\INC\STC12C5A60S2.H: 'ADC_CONTR': redefinition
*** ERROR C231 IN LINE 325 OF C:\KEIL\C51\INC\STC12C5A60S2.H: 'ADC_RES': redefinition
*** ERROR C231 IN LINE 326 OF C:\KEIL\C51\INC\STC12C5A60S2.H: 'ADC_RESL': redefinition
*** ERROR C231 IN LINE 330 OF C:\KEIL\C51\INC\STC12C5A60S2.H: 'SPCTL': redefinition
*** ERROR C231 IN LINE 331 OF C:\KEIL\C51\INC\STC12C5A60S2.H: 'SPSTAT': redefinition
*** ERROR C231 IN LINE 332 OF C:\KEIL\C51\INC\STC12C5A60S2.H: 'SPDAT': redefinition
*** ERROR C231 IN LINE 335 OF C:\KEIL\C51\INC\STC12C5A60S2.H: 'IAP_DATA': redefinition
*** ERROR C231 IN LINE 336 OF C:\KEIL\C51\INC\STC12C5A60S2.H: 'IAP_ADDRH': redefinition
*** ERROR C231 IN LINE 337 OF C:\KEIL\C51\INC\STC12C5A60S2.H: 'IAP_ADDRL': redefinition
*** ERROR C231 IN LINE 339 OF C:\KEIL\C51\INC\STC12C5A60S2.H: 'IAP_CMD': redefinition
*** ERROR C231 IN LINE 340 OF C:\KEIL\C51\INC\STC12C5A60S2.H: 'IAP_TRIG': redefinition
*** ERROR C231 IN LINE 341 OF C:\KEIL\C51\INC\STC12C5A60S2.H: 'IAP_CONTR': redefinition
   5          #include "timer.h"
   6          #include "stdio.h"      
   7          //#include "pid.h"
   8          #include "pt100.h"
   9          
  10          unsigned int   ADC = 0;                                             //ADC采样值
  11          
  12          /*******************************************************************************
  13          * 函数名         : Delay
  14          * 函数功能                 : 延时函数
  15          * 输入           : 无
  16          * 输出           : 无
  17          *******************************************************************************/
C51 COMPILER V9.01   PT100                                                                 12/12/2018 10:19:40 PAGE 4   

  18          void Delay(unsigned int n)                                        //延时函数               
  19          {
  20   1              unsigned int x;
  21   1              while (n--)
  22   1                      {
  23   2                                      x = 5000;
  24   2                                      while (x--);
  25   2                      }
  26   1      }
  27          
  28          /*******************************************************************************
  29          * 函数名         : InitADC
  30          * 函数功能                 : ADC初始化
  31          * 输入           : 无
  32          * 输出           : 无
  33          *******************************************************************************/
  34          void InitADC( )                                                  //ADC初始化
  35          {
  36   1              P1ASF = 0x01;                                                  //将P1口设置成模拟量输入口
  37   1              ADC_RES = 0;                                                   //清零ADC值（高位）
  38   1              ADC_RESL =0;                                                   //ADC值（低位）
  39   1              ADC_CONTR = ADC_POWER | ADC_SPEEDLL | ADC_START ;              //配置A/D转换控制特殊功能寄存器
  40   1              Delay(2);                                                      //ADC采样延时
  41   1      }
  42          
  43          
  44          /*******************************************************************************
  45          * 函数名         : SendData
  46          * 函数功能                 : 将ADC采集值放入SBUF寄存器内
  47          * 输入           : 无
  48          * 输出           : 无
  49          *******************************************************************************/
  50          void SendData(unsigned int dat)                                  //将ADC采集值放入SBUF寄存器内
  51          {
  52   1              while (!TI);                                                   //等待数据到来
  53   1              TI = 0;                                                        //清除标志位
  54   1              SBUF = dat;                                                    //将ADC值放入SBUF中
  55   1      }
  56          
  57          /*******************************************************************************
  58          * 函数名         : adc_isr
  59          * 函数功能                 : ADC中断服务函数
  60          * 输入           : 无
  61          * 输出           : 无
  62          *******************************************************************************/
  63          void adc_isr() interrupt 5 using 1                               //ADC中断服务函数
  64          {
  65   1              unsigned int ADCH;                                             //ADC高8位                                
             -              
  66   1              unsigned int ADCL;                                             //ADC低2位
  67   1              ADC_CONTR &= !ADC_FLAG;                                        //清除ADC中断标志位
  68   1              SendData(ADC_RES);                                             //将ADC的高8位放入SBUF中
  69   1        SendData(ADC_RESL);                                            //将ADC低2位放入SBUF中 
  70   1              ADCH=ADC_RES;                                                  //将ADC的高8位放入ADCH中 
  71   1              ADCL=ADC_RESL;                                                 //将ADC的低2位放入ADCL中
  72   1              ADCH=ADCH<<2;                                                  //将ADCde1高8位左移2位
  73   1              ADC=ADCH+ADCL;                                                 //计算ADC值    
  74   1              ADC_CONTR = ADC_POWER | ADC_SPEEDLL | ADC_START ;              //配置A/D转换控制特殊功能寄存器
  75   1      }

C51 COMPILATION COMPLETE.  0 WARNING(S),  162 ERROR(S)
